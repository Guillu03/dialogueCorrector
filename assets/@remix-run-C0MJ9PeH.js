/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w(){return w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},w.apply(this,arguments)}var v;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(v||(v={}));const j="popstate";function T(t){t===void 0&&(t={});function e(a,r){let{pathname:i,search:s,hash:l}=a.location;return L("",{pathname:i,search:s,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:B(r)}return F(e,n,null,t)}function y(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function R(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D(){return Math.random().toString(36).substr(2,8)}function A(t,e){return{usr:t.state,key:t.key,idx:e}}function L(t,e,n,a){return n===void 0&&(n=null),w({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?b(e):e,{state:n,key:e&&e.key||a||D()})}function B(t){let{pathname:e="/",search:n="",hash:a=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function b(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substr(a),t=t.substr(0,a)),t&&(e.pathname=t)}return e}function F(t,e,n,a){a===void 0&&(a={});let{window:r=document.defaultView,v5Compat:i=!1}=a,s=r.history,l=v.Pop,o=null,h=p();h==null&&(h=0,s.replaceState(w({},s.state,{idx:h}),""));function p(){return(s.state||{idx:null}).idx}function c(){l=v.Pop;let u=p(),f=u==null?null:u-h;h=u,o&&o({action:l,location:g.location,delta:f})}function m(u,f){l=v.Push;let d=L(g.location,u,f);h=p()+1;let W=A(d,h),S=g.createHref(d);try{s.pushState(W,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(S)}i&&o&&o({action:l,location:g.location,delta:1})}function $(u,f){l=v.Replace;let d=L(g.location,u,f);h=p();let W=A(d,h),S=g.createHref(d);s.replaceState(W,"",S),i&&o&&o({action:l,location:g.location,delta:0})}function x(u){let f=r.location.origin!=="null"?r.location.origin:r.location.href,d=typeof u=="string"?u:B(u);return d=d.replace(/ $/,"%20"),y(f,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,f)}let g={get action(){return l},get location(){return t(r,s)},listen(u){if(o)throw new Error("A history only accepts one active listener");return r.addEventListener(j,c),o=u,()=>{r.removeEventListener(j,c),o=null}},createHref(u){return e(r,u)},createURL:x,encodeLocation(u){let f=x(u);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:$,go(u){return s.go(u)}};return g}var C;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(C||(C={}));function J(t,e,n){return n===void 0&&(n="/"),V(t,e,n,!1)}function V(t,e,n,a){let r=typeof e=="string"?b(e):e,i=N(r.pathname||"/",n);if(i==null)return null;let s=U(t);q(s);let l=null;for(let o=0;l==null&&o<s.length;++o){let h=nt(i);l=tt(s[o],h,a)}return l}function U(t,e,n,a){e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a="");let r=(i,s,l)=>{let o={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(y(o.relativePath.startsWith(a),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(a.length));let h=P([a,o.relativePath]),p=n.concat(o);i.children&&i.children.length>0&&(y(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),U(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:Z(h,i.index),routesMeta:p})};return t.forEach((i,s)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,s);else for(let o of k(i.path))r(i,s,o)}),e}function k(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return r?[i,""]:[i];let s=k(a.join("/")),l=[];return l.push(...s.map(o=>o===""?i:[i,o].join("/"))),r&&l.push(...s),l.map(o=>t.startsWith("/")&&o===""?"/":o)}function q(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const z=/^:[\w-]+$/,G=3,K=2,Q=1,X=10,Y=-2,M=t=>t==="*";function Z(t,e){let n=t.split("/"),a=n.length;return n.some(M)&&(a+=Y),e&&(a+=K),n.filter(r=>!M(r)).reduce((r,i)=>r+(z.test(i)?G:i===""?Q:X),a)}function _(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function tt(t,e,n){let{routesMeta:a}=t,r={},i="/",s=[];for(let l=0;l<a.length;++l){let o=a[l],h=l===a.length-1,p=i==="/"?e:e.slice(i.length)||"/",c=I({path:o.relativePath,caseSensitive:o.caseSensitive,end:h},p),m=o.route;if(!c&&h&&n&&!a[a.length-1].route.index&&(c=I({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},p)),!c)return null;Object.assign(r,c.params),s.push({params:r,pathname:P([i,c.pathname]),pathnameBase:st(P([i,c.pathnameBase])),route:m}),c.pathnameBase!=="/"&&(i=P([i,c.pathnameBase]))}return s}function I(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=et(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],s=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:a.reduce((o,h,p)=>{let{paramName:c,isOptional:m}=h;if(c==="*"){let x=l[p]||"";s=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const $=l[p];return m&&!$?o[c]=void 0:o[c]=($||"").replace(/%2F/g,"/"),o},{}),pathname:i,pathnameBase:s,pattern:t}}function et(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),R(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,s,l)=>(a.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),a]}function nt(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return R(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function N(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function at(t,e){e===void 0&&(e="/");let{pathname:n,search:a="",hash:r=""}=typeof t=="string"?b(t):t;return{pathname:n?n.startsWith("/")?n:rt(n,e):e,search:ht(a),hash:ct(r)}}function rt(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function O(t,e,n,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function it(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ot(t,e){let n=it(t);return e?n.map((a,r)=>r===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function lt(t,e,n,a){a===void 0&&(a=!1);let r;typeof t=="string"?r=b(t):(r=w({},t),y(!r.pathname||!r.pathname.includes("?"),O("?","pathname","search",r)),y(!r.pathname||!r.pathname.includes("#"),O("#","pathname","hash",r)),y(!r.search||!r.search.includes("#"),O("#","search","hash",r)));let i=t===""||r.pathname==="",s=i?"/":r.pathname,l;if(s==null)l=n;else{let c=e.length-1;if(!a&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),c-=1;r.pathname=m.join("/")}l=c>=0?e[c]:"/"}let o=at(r,l),h=s&&s!=="/"&&s.endsWith("/"),p=(i||s===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(h||p)&&(o.pathname+="/"),o}const P=t=>t.join("/").replace(/\/\/+/g,"/"),st=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ht=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ct=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ut(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const H=["post","put","patch","delete"];new Set(H);const pt=["get",...H];new Set(pt);export{v as A,ut as a,T as c,ot as g,y as i,P as j,J as m,b as p,lt as r,N as s};

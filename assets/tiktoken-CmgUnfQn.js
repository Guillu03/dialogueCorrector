let O,pt=(async()=>{const U="/dialogueCorrector/assets/tiktoken_bg-C6r4lv1C.wasm",j=async(t={},e)=>{let _;if(e.startsWith("data:")){const r=e.replace(/^data:.*?base64,/,"");let o;if(typeof Buffer=="function"&&typeof Buffer.from=="function")o=Buffer.from(r,"base64");else if(typeof atob=="function"){const i=atob(r);o=new Uint8Array(i.length);for(let a=0;a<i.length;a++)o[a]=i.charCodeAt(a)}else throw new Error("Cannot decode base64-encoded data URL");_=await WebAssembly.instantiate(o,t)}else{const r=await fetch(e),o=r.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&o.startsWith("application/wasm"))_=await WebAssembly.instantiateStreaming(r,t);else{const i=await r.arrayBuffer();_=await WebAssembly.instantiate(i,t)}}return _.instance.exports};let n;function B(t){n=t}const u=new Array(128).fill(void 0);u.push(void 0,null,!0,!1);function x(t){return u[t]}let h=u.length;function L(t){t<132||(u[t]=h,h=t)}function k(t){const e=x(t);return L(t),e}let l=0,m=null;function p(){return(m===null||m.byteLength===0)&&(m=new Uint8Array(n.memory.buffer)),m}const R=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let v=new R("utf-8");const D=typeof v.encodeInto=="function"?function(t,e){return v.encodeInto(t,e)}:function(t,e){const _=v.encode(t);return e.set(_),{read:t.length,written:_.length}};function w(t,e,_){if(_===void 0){const s=v.encode(t),b=e(s.length,1)>>>0;return p().subarray(b,b+s.length).set(s),l=s.length,b}let r=t.length,o=e(r,1)>>>0;const i=p();let a=0;for(;a<r;a++){const s=t.charCodeAt(a);if(s>127)break;i[o+a]=s}if(a!==r){a!==0&&(t=t.slice(a)),o=_(o,r,r=a+t.length*3,1)>>>0;const s=p().subarray(o+a,o+r),b=D(t,s);a+=b.written,o=_(o,r,a,1)>>>0}return l=a,o}function q(t){return t==null}let y=null;function d(){return(y===null||y.buffer.detached===!0||y.buffer.detached===void 0&&y.buffer!==n.memory.buffer)&&(y=new DataView(n.memory.buffer)),y}const F=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let W=new F("utf-8",{ignoreBOM:!0,fatal:!0});W.decode();function A(t,e){return t=t>>>0,W.decode(p().subarray(t,t+e))}function g(t){h===u.length&&u.push(u.length+1);const e=h;return h=u[e],u[e]=t,e}let I=null;function z(){return(I===null||I.byteLength===0)&&(I=new Uint32Array(n.memory.buffer)),I}function M(t,e){return t=t>>>0,z().subarray(t/4,t/4+e)}function J(t,e){const _=e(t.length*1,1)>>>0;return p().set(t,_/1),l=t.length,_}function N(t,e){const _=e(t.length*4,4)>>>0;return z().set(t,_/4),l=t.length,_}function T(t,e){return t=t>>>0,p().subarray(t/1,t/1+e)}O=function(t,e){if(n==null)throw new Error("tiktoken: WASM binary has not been propery initialized.");try{const i=n.__wbindgen_add_to_stack_pointer(-16),a=w(t,n.__wbindgen_export_0,n.__wbindgen_export_1),s=l;n.encoding_for_model(i,a,s,g(e));var _=d().getInt32(i+4*0,!0),r=d().getInt32(i+4*1,!0),o=d().getInt32(i+4*2,!0);if(o)throw k(r);return S.__wrap(_)}finally{n.__wbindgen_add_to_stack_pointer(16)}};function C(t,e){try{return t.apply(this,e)}catch(_){n.__wbindgen_export_3(g(_))}}const E=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>n.__wbg_tiktoken_free(t>>>0,1));class S{static __wrap(e){e=e>>>0;const _=Object.create(S.prototype);return _.__wbg_ptr=e,E.register(_,_.__wbg_ptr,_),_}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,E.unregister(this),e}free(){if(n==null)throw new Error("tiktoken: WASM binary has not been propery initialized.");const e=this.__destroy_into_raw();n.__wbg_tiktoken_free(e,0)}constructor(e,_,r){if(n==null)throw new Error("tiktoken: WASM binary has not been propery initialized.");const o=w(e,n.__wbindgen_export_0,n.__wbindgen_export_1),i=l,a=w(r,n.__wbindgen_export_0,n.__wbindgen_export_1),s=l,b=n.tiktoken_new(o,i,g(_),a,s);return this.__wbg_ptr=b>>>0,E.register(this,this.__wbg_ptr,this),this}get name(){try{const r=n.__wbindgen_add_to_stack_pointer(-16);n.tiktoken_name(r,this.__wbg_ptr);var e=d().getInt32(r+4*0,!0),_=d().getInt32(r+4*1,!0);let o;return e!==0&&(o=A(e,_).slice(),n.__wbindgen_export_2(e,_*1,1)),o}finally{n.__wbindgen_add_to_stack_pointer(16)}}encode(e,_,r){if(n==null)throw new Error("tiktoken: WASM binary has not been propery initialized.");try{const f=n.__wbindgen_add_to_stack_pointer(-16),ft=w(e,n.__wbindgen_export_0,n.__wbindgen_export_1),kt=l;n.tiktoken_encode(f,this.__wbg_ptr,ft,kt,g(_),g(r));var o=d().getInt32(f+4*0,!0),i=d().getInt32(f+4*1,!0),a=d().getInt32(f+4*2,!0),s=d().getInt32(f+4*3,!0);if(s)throw k(a);var b=M(o,i).slice();return n.__wbindgen_export_2(o,i*4,4),b}finally{n.__wbindgen_add_to_stack_pointer(16)}}encode_ordinary(e){if(n==null)throw new Error("tiktoken: WASM binary has not been propery initialized.");try{const i=n.__wbindgen_add_to_stack_pointer(-16),a=w(e,n.__wbindgen_export_0,n.__wbindgen_export_1),s=l;n.tiktoken_encode_ordinary(i,this.__wbg_ptr,a,s);var _=d().getInt32(i+4*0,!0),r=d().getInt32(i+4*1,!0),o=M(_,r).slice();return n.__wbindgen_export_2(_,r*4,4),o}finally{n.__wbindgen_add_to_stack_pointer(16)}}encode_with_unstable(e,_,r){if(n==null)throw new Error("tiktoken: WASM binary has not been propery initialized.");try{const s=n.__wbindgen_add_to_stack_pointer(-16),b=w(e,n.__wbindgen_export_0,n.__wbindgen_export_1),f=l;n.tiktoken_encode_with_unstable(s,this.__wbg_ptr,b,f,g(_),g(r));var o=d().getInt32(s+4*0,!0),i=d().getInt32(s+4*1,!0),a=d().getInt32(s+4*2,!0);if(a)throw k(i);return k(o)}finally{n.__wbindgen_add_to_stack_pointer(16)}}encode_single_token(e){if(n==null)throw new Error("tiktoken: WASM binary has not been propery initialized.");const _=J(e,n.__wbindgen_export_0),r=l;return n.tiktoken_encode_single_token(this.__wbg_ptr,_,r)>>>0}decode(e){if(n==null)throw new Error("tiktoken: WASM binary has not been propery initialized.");try{const i=n.__wbindgen_add_to_stack_pointer(-16),a=N(e,n.__wbindgen_export_0),s=l;n.tiktoken_decode(i,this.__wbg_ptr,a,s);var _=d().getInt32(i+4*0,!0),r=d().getInt32(i+4*1,!0),o=T(_,r).slice();return n.__wbindgen_export_2(_,r*1,1),o}finally{n.__wbindgen_add_to_stack_pointer(16)}}decode_single_token_bytes(e){if(n==null)throw new Error("tiktoken: WASM binary has not been propery initialized.");try{const i=n.__wbindgen_add_to_stack_pointer(-16);n.tiktoken_decode_single_token_bytes(i,this.__wbg_ptr,e);var _=d().getInt32(i+4*0,!0),r=d().getInt32(i+4*1,!0),o=T(_,r).slice();return n.__wbindgen_export_2(_,r*1,1),o}finally{n.__wbindgen_add_to_stack_pointer(16)}}token_byte_values(){if(n==null)throw new Error("tiktoken: WASM binary has not been propery initialized.");const e=n.tiktoken_token_byte_values(this.__wbg_ptr);return k(e)}}function P(t){k(t)}function V(t){return x(t)===void 0}function G(t,e){if(n==null)throw new Error("tiktoken: WASM binary has not been propery initialized.");const _=x(e),r=typeof _=="string"?_:void 0;var o=q(r)?0:w(r,n.__wbindgen_export_0,n.__wbindgen_export_1),i=l;d().setInt32(t+4,i,!0),d().setInt32(t+0,o,!0)}function H(t,e){const _=new Error(A(t,e));return g(_)}function K(){return C(function(t,e){const _=JSON.parse(A(t,e));return g(_)},arguments)}function Q(){return C(function(t){const e=JSON.stringify(x(t));return g(e)},arguments)}function X(t,e){throw new Error(A(t,e))}URL=globalThis.URL;const c=await j({"./tiktoken_bg.js":{__wbindgen_object_drop_ref:P,__wbindgen_is_undefined:V,__wbindgen_string_get:G,__wbindgen_error_new:H,__wbg_parse_52202f117ec9ecfa:K,__wbg_stringify_bbf45426c92a6bf5:Q,__wbindgen_throw:X}},U),Y=c.memory,Z=c.__wbg_tiktoken_free,$=c.tiktoken_new,tt=c.tiktoken_name,et=c.tiktoken_encode,nt=c.tiktoken_encode_ordinary,_t=c.tiktoken_encode_with_unstable,rt=c.tiktoken_encode_single_token,ot=c.tiktoken_decode,it=c.tiktoken_decode_single_token_bytes,at=c.tiktoken_token_byte_values,st=c.get_encoding,dt=c.encoding_for_model,ct=c.__wbindgen_export_0,lt=c.__wbindgen_export_1,bt=c.__wbindgen_add_to_stack_pointer,gt=c.__wbindgen_export_2,ut=c.__wbindgen_export_3,wt=Object.freeze(Object.defineProperty({__proto__:null,__wbg_tiktoken_free:Z,__wbindgen_add_to_stack_pointer:bt,__wbindgen_export_0:ct,__wbindgen_export_1:lt,__wbindgen_export_2:gt,__wbindgen_export_3:ut,encoding_for_model:dt,get_encoding:st,memory:Y,tiktoken_decode:ot,tiktoken_decode_single_token_bytes:it,tiktoken_encode:et,tiktoken_encode_ordinary:nt,tiktoken_encode_single_token:rt,tiktoken_encode_with_unstable:_t,tiktoken_name:tt,tiktoken_new:$,tiktoken_token_byte_values:at},Symbol.toStringTag,{value:"Module"}));B(wt)})();export{pt as __tla,O as e};
